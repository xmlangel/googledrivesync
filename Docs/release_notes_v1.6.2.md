# 릴리즈 노트 v1.6.2

Google Drive Sync v1.6.2 버전이 릴리즈되었습니다.

## 주요 개선 사항

### 1. 동기화 재개 및 진행률 표시 개선
- 파일 목록 조회 단계에서 `Page Token`을 주기적으로 저장하여, 작업이 중간에 중단되더라도 처음부터 다시 시작하지 않고 중단된 지점부터 동기화를 재개할 수 있는 기능을 구현했습니다.
- 구글 드라이브 파일 목록을 불러오는 동안 실시간으로 진행률을 표시하여 사용자 경험을 개선했습니다.

### 2. 네트워크 탄력성 및 재시도 메커니즘
- 네트워크 타임아웃이나 일시적인 서버 오류 발생 시 `Exponential Backoff`(지수 백오프) 방식의 재시도 메커니즘을 도입하여, 불안정한 네트워크 환경에서도 동기화가 성공적으로 완료될 확률을 높였습니다.

### 3. Google Workspace 파일 처리 최적화
- Google Docs, Sheets 등 직접 다운로드가 불가능한 파일들을 명확히 구분하여 전용 내보내기(Export) 로직을 적용하거나, 다운로드 불가능한 타입을 사전에 필터링하여 불필요한 오류 발생을 방지했습니다.

### 4. 차분 동기화(Changes API) 및 로컬 최적화
- **Changes API 도입**: Google Drive의 `Changes API`를 연동하여 서버의 변경 사항을 효율적으로 감지합니다. 특히 파일 이름 변경이나 폴더 이동 시 다시 다운로드하지 않고 로컬에서 즉시 반영하도록 개선하여 전송량을 최소화했습니다.
- **로컬 이름변경/이동 최적화**: 로컬에서 파일이 이동하거나 이름이 바뀌었을 때, MD5 대조를 통해 이를 감지하고 서버 측 메타데이터만 업데이트(Rename/Move)하여 재전송 없이 즉시 반영합니다.

### 5. 앱 종료 시 안정성 강화
- 사용자가 앱을 완전히 종료할 때 진행 중인 백그라운드 동기화 작업을 취소하고, 실시간 폴더 모니터링을 정상적으로 중지하여 리소스 낭비를 방지하도록 개선했습니다.
## 주요 버그 수정

### 1. EISDIR (Is a directory) 오류 해결
- 특정 상황에서 폴더를 파일로 인식하여 업로드를 시도할 때 발생하던 `EISDIR` 오류를 해결했습니다. 이제 새로운 로컬 폴더를 발견하면 정상적으로 드라이브에 폴더로 생성합니다.

### 6. 충돌 해결 및 로깅 강화
- 파일 충돌 발생 시 MD5 해시 불일치 내용을 로그에 상세히 기록하여 원인 파악이 용이하도록 개선했습니다.
- 동기화 예외 발생 시 상세한 에러 메시지와 스택 트레이스를 기록하여 디버깅 효율을 높였습니다.

### 7. 파일 필터링 및 타입 안전성 확보
- 로컬 전용 파일(파일명에 `_local` 포함)을 동기화 대상에서 제외하는 기능을 추가했습니다.
- 로컬의 파일이 드라이브의 폴더와 매칭되거나 그 반대의 경우를 사전에 체크하여 잘못된 동기화 시도를 방지하는 타입 안전성 검사 로직을 강화했습니다.

## 기술적 성과
- 커스텀 테스트 메타데이터 어노테이션 도입 및 JUnit XML 리포트 자동 생성 프로세스 구축을 통해 테스트 가독성과 관리 효율을 개선했습니다.
- 안드로이드의 다양한 예외 상황(GoogleAuthIOException 등)에 대한 세분화된 예외 처리 로직을 보강했습니다.
